<!DOCTYPE html>
<html>
<head>
    <title>Broiler Demo Street Fighter Wool</title>
    <script src="http://code.jquery.com/jquery-2.1.1.min.js"></script>
    <script src="../src/broiler.js"></script>
    <script>
        var library = [
            { "r": 225, "g": 227, "b": 233, "name": "weiß", "id": "00106" },
            { "r": 228, "g": 226, "b": 218, "name": "natur", "id": "00105" },
            { "r": 193, "g": 183, "b": 174, "name": "leinen", "id": "00248" },
            { "r": 246, "g": 189, "b": 214, "name": "rosa", "id": "00246" },
            { "r": 236, "g": 142, "b": 175, "name": "orchidee", "id": "00222" },
            { "r": 198, "g": 44, "b": 124, "name": "cyclam", "id": "00114" },
            { "r": 239, "g": 88, "b": 129, "name": "himbeer", "id": "00256" },
            { "r": 206, "g": 89, "b": 158, "name": "fresie", "id": "00251" },
            { "r": 87, "g": 59, "b": 127, "name": "violett", "id": "00113" },
            { "r": 195, "g": 167, "b": 200, "name": "flieder", "id": "00226" },
            { "r": 222, "g": 217, "b": 200, "name": "crème", "id": "00130" },
            { "r": 235, "g": 203, "b": 192, "name": "soft apricot", "id": "00263" },
            { "r": 189, "g": 164, "b": 155, "name": "bast", "id": "00257" },
            { "r": 116, "g": 96, "b": 83, "name": "taupe", "id": "00254" },
            { "r": 68, "g": 38, "b": 42, "name": "kaffee", "id": "00162" },
            { "r": 108, "g": 60, "b": 105, "name": "hyazinth", "id": "00240" },
            { "r": 119, "g": 49, "b": 122, "name": "phlox", "id": "00282" },
            { "r": 117, "g": 12, "b": 83, "name": "fuchsia", "id": "00128" },
            { "r": 151, "g": 25, "b": 72, "name": "weinrot", "id": "00192" },
            { "r": 167, "g": 50, "b": 82, "name": "erdbeere", "id": "00258" },
            { "r": 242, "g": 182, "b": 57, "name": "sonne", "id": "00208" },
            { "r": 177, "g": 111, "b": 43, "name": "zimt", "id": "00383" },
            { "r": 186, "g": 62, "b": 47, "name": "terracotta", "id": "00388" },
            { "r": 245, "g": 149, "b": 95, "name": "orangelachs", "id": "00386" },
            { "r": 244, "g": 139, "b": 47, "name": "orange", "id": "00281" },
            { "r": 236, "g": 92, "b": 46, "name": "jaffa", "id": "00189" },
            { "r": 239, "g": 97, "b": 100, "name": "kamelie", "id": "00252" },
            { "r": 234, "g": 81, "b": 59, "name": "tomate", "id": "00390" },
            { "r": 187, "g": 36, "b": 41, "name": "signalrot", "id": "00115" },
            { "r": 226, "g": 223, "b": 162, "name": "mimose", "id": "00100" },
            { "r": 244, "g": 220, "b": 88, "name": "löwenzahn", "id": "00280" },
            { "r": 202, "g": 205, "b": 68, "name": "anis", "id": "00245" },
            { "r": 137, "g": 172, "b": 79, "name": "apfel", "id": "00205" },
            { "r": 116, "g": 197, "b": 145, "name": "maigrün", "id": "00389" },
            { "r": 35, "g": 149, "b": 116, "name": "golfgrün", "id": "00241" },
            { "r": 24, "g": 68, "b": 78, "name": "agave", "id": "00244" },
            { "r": 93, "g": 130, "b": 80, "name": "khaki", "id": "00212" },
            { "r": 71, "g": 64, "b": 60, "name": "fango", "id": "00387" },
            { "r": 157, "g": 214, "b": 208, "name": "mint", "id": "00385" },
            { "r": 41, "g": 171, "b": 158, "name": "jade", "id": "00253" },
            { "r": 20, "g": 152, "b": 199, "name": "pfau", "id": "00146" },
            { "r": 31, "g": 135, "b": 196, "name": "capri", "id": "00384" },
            { "r": 144, "g": 179, "b": 205, "name": "hellblau", "id": "00173" },
            { "r": 83, "g": 146, "b": 196, "name": "wolke", "id": "00247" },
            { "r": 64, "g": 98, "b": 145, "name": "regatta", "id": "00261" },
            { "r": 17, "g": 88, "b": 152, "name": "royal", "id": "00201" },
            { "r": 18, "g": 62, "b": 100, "name": "jeans", "id": "00164" },
            { "r": 21, "g": 35, "b": 65, "name": "marine", "id": "00124" },
            { "r": 17, "g": 15, "b": 21, "name": "schwarz", "id": "00110" }
        ];
        $(function() {
            $("#streetfighter").broiler(function(color) {
                var min_index = 0, min_abs = 766, i;
                for (i = 0; i < library.length; i++) {
                    var abs = Math.abs(color.r - library[i].r) +
                            Math.abs(color.g - library[i].g) +
                            Math.abs(color.b - library[i].b);
                    if (abs < min_abs) {
                        min_index = i;
                        min_abs = abs;
                    }
                }
                $("#stuff_label").text(library[min_index].name+" "+library[min_index].id);
                $("#stuff_color").css(
                        "background-color", "#" + ((1 << 24) + (library[min_index].r << 16) +
                                (library[min_index].g << 8) + library[min_index].b).toString(16).slice(1)
                );
            });
        });
    </script>
</head>
<body>
<h1>Broiler Demo Street Fighter Wool</h1>
<img id="streetfighter" src="img/streetfighter.png"/>
<br/>
<h2 id="stuff_label">schwarz 00110</h2>
<div id="stuff_color" style="width: 600px; height: 60px; background-color: #000000;"></div>
</body>
</html>